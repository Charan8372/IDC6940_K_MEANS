---
title: "Applying K-Means Clustering in retail industry - Fall 2025 "

author: "Charan Gullipalli, Lavanya Guntupalli, Arun Pandian (Advisor: Dr. Cohen)"
date: '`r Sys.Date()`'
format:
  html:
    code-fold: true
course: Capstone Projects in Data Science
bibliography: references.bib # file contains bibtex for references
#always_allow_html: true # this allows to get PDF with HTML features
self-contained: true
execute: 
  warning: false
  message: false
editor: 
  markdown: 
    wrap: 72
---

Slides: [slides.html](slides.html){target="_blank"} ( Go to `slides.qmd`
to edit)

::: callout-important
**Remember:** Your goal is to make your audience understand and care
about your findings. By crafting a compelling story, you can effectively
communicate the value of your data science project.

Carefully read this template since it has instructions and tips to
writing!

Nice report!
:::

## Introduction

In today's data-driven corporate environment, understanding customer
behavior and effectively managing inventories are key to organizational
success. With the increased availability of transactional, demographic,
and behavioral data, data mining and clustering techniques—particularly
K-Means clustering—have become critical decision-making tools in retail,
logistics, and marketing. Recent studies emphasize that algorithm
selection and data preprocessing directly affect the quality of insights
derived from clustering (Prasetiya and Prayoga 2024).

K-Means clustering is a machine learning technique that divides data
into distinct clusters based on similarities, allowing businesses to
identify patterns that would not be visible using traditional analysis.
Research has demonstrated that it can greatly enhance consumer
segmentation, inventory forecasting, and marketing optimization across
various industries. For example, a weighted K-Means model produced more
meaningful and stable customer clusters compared to the standard model
(Omol et al. 2024). Similarly, comparative work on the same dataset
found that while more complex models can sometimes yield higher
precision, K-Means remains valuable for its interpretability and speed
in operational settings (Prasetiya and Prayoga 2024).

In emerging markets, K-Means has also proven beneficial for small and
resource-limited businesses. Clustering transactional and demographic
data enables grocery stores to identify clear patterns of consumer
purchasing behavior (Sitorus et al. 2023). Likewise, studies show that
clustering supports targeted marketing, loyalty programs, and more
efficient stock management (Bala 2012; Sitorus et al. 2023; Gunawan
2022). Collectively, these works underscore that even small or localized
retailers can leverage K-Means-based segmentation to align supply,
demand, and promotional strategy.

Beyond retail, advances in clustering algorithms—including weighted
variants (Omol et al. 2024) as well as Global and MiniBatch K-Means—have
improved computational efficiency and accuracy, reducing issues like
random initialization and scalability on large datasets. These
enhancements make K-Means increasingly suitable for real-time analytics
and modern business intelligence frameworks. In summary, the literature
shows that K-Means clustering is more than a statistical technique; it
is a strategic enabler for data-informed decision-making. By uncovering
relevant behavioral patterns in large datasets, firms can deepen
customer understanding, optimize resource allocation, and forecast
demand more accurately. Integrating K-Means into corporate analytics
frameworks is thus a crucial step toward operational excellence and
maintaining competitiveness in the digital economy.

## Literature

The studied literature stresses the importance of K-Means clustering in
retail operations, consumer segmentation, and inventory management.
According to studies, K-Means efficiently organizes items and consumers
based on demand patterns, purchasing behavior, and demographic
information, helping businesses to improve their decision-making and
marketing tactics. For example, employing RFM (Recency, Frequency, and
Monetary) analysis in conjunction with K-Means has allowed businesses to
identify high-value clients and adjust promotions appropriately. Other
studies, such as Bala (2012) and Agarwal et al. (2019), have shown that
clustering improves inventory forecasting, optimizes product
assortments, and promotes lean supply chain management. Advanced
variants, such as Global K-Means and MiniBatch K-Means, have been
developed to overcome issues such as random initialization and
processing efficiency, as stated by Likas et al. and Kanungo et al.
Furthermore, applications in a variety of settings—from Kenyan grocery
shops to used vehicle markets—show K-Means' versatility for spotting
purchase tendencies, increasing loyalty, and driving targeted marketing.
According to the literature, K-Means is a practical and interpretable
technique for translating raw retail data into actionable insights,
enabling dynamic pricing, tailored marketing, and enhanced inventory
control in today's data-driven retail environment.

## Methods

-   Detail the models or algorithms used.

-   Justify your choices based on the problem and data.

*The common non-parametric regression model is*
$Y_i = m(X_i) + \varepsilon_i$*, where* $Y_i$ *can be defined as the sum
of the regression function value* $m(x)$ *for* $X_i$*. Here* $m(x)$ *is
unknown and* $\varepsilon_i$ *some errors. With the help of this
definition, we can create the estimation for local averaging i.e.*
$m(x)$ *can be estimated with the product of* $Y_i$ *average and* $X_i$
*is near to* $x$*. In other words, this means that we are discovering
the line through the data points with the help of surrounding data
points. The estimation formula is printed below [@R-base]:*

$$
M_n(x) = \sum_{i=1}^{n} W_n (X_i) Y_i  \tag{1}
$$$W_n(x)$ *is the sum of weights that belongs to all real numbers.
Weights are positive numbers and small if* $X_i$ *is far from* $x$*.*

*Another equation:*

$$
y_i = \beta_0 + \beta_1 X_1 +\varepsilon_i
$$

## Analysis and Results

# Data Exploration and Visualization

-   Data sources and collection.

-   Daqing Chen gave the Online Retail dataset to the UCI Machine
    Learning Repository in 2015. It covers every transaction made by a
    UK-based online retailer of distinctive gift products between
    December 2010 and December 2011. The business mostly caters to
    wholesale clients. The information was taken straight from the
    business's sales records.

-   Initial findings and insights through visualizations.

-   Following data cleansing and visualization:

-   The majority of transactions take place in the United Kingdom.

-   Holidays are usually when sales are at their highest, particularly
    in November and December.

-   Order cancellations are indicated by invoices that begin with "C."

-   Some transactions have prices or quantities that are zero or
    negative, which could be a sign of refunds or data input problems.

-   Unexpected patterns or anomalies.

-   Some clients—likely wholesalers—make extremely expensive bulk
    purchases.

-   In certain instances, there are duplicate or missing client IDs.

-   Order cancellations for some products are common, which may indicate
    stock or delivery problems.

```{r, warning=FALSE, echo=T, message=FALSE}
# loading packages 
library(tidyverse)
library(knitr)
library(ggthemes)
library(ggrepel)
library(dslabs)



library(readxl)
library(dplyr)
library(ggplot2)
library(lubridate)



df <- read_excel("Online Retail.xlsx")



glimpse(df)

# Clean data

df_clean <- df %>%
  filter(!is.na(Description), !is.na(CustomerID)) %>%     # Remove missing Description/CustomerID
  filter(Quantity > 0, UnitPrice > 0) %>%                 # Remove invalid sales
  mutate(
    InvoiceDate = as.POSIXct(InvoiceDate),
    TotalAmount = Quantity * UnitPrice,                   # Create TotalAmount column
    Month = floor_date(InvoiceDate, "month")              # Create Month column
  )
```

```{r}
#Top-selling products

top_products <- df_clean %>%
  group_by(Description) %>%
  summarise(TotalSales = sum(TotalAmount, na.rm = TRUE)) %>%
  arrange(desc(TotalSales)) %>%
  head(10)

ggplot(top_products, aes(x = reorder(Description, TotalSales), y = TotalSales)) +
  geom_bar(stat = "identity", fill = "steelblue") +
  coord_flip() +
  labs(title = "Top 10 Selling Products", x = "Product", y = "Total Sales")

```

```{r}
# Monthly sales trend

df_clean <- df_clean %>%
  mutate(Month = format(InvoiceDate, "%Y-%m"))

monthly_sales <- df_clean %>%
  group_by(Month) %>%
  summarise(TotalRevenue = sum(TotalAmount))

ggplot(monthly_sales, aes(x = Month, y = TotalRevenue, group = 1)) +
  geom_line(color = "darkgreen") +
  geom_point() +
  labs(title = "Monthly Sales Trend", x = "Month", y = "Revenue") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

```{r}
# Top countries by revenue

top_countries <- df_clean %>%
  group_by(Country) %>%
  summarise(TotalRevenue = sum(TotalAmount)) %>%
  arrange(desc(TotalRevenue)) %>%
  head(10)

ggplot(top_countries, aes(x = reorder(Country, TotalRevenue), y = TotalRevenue)) +
  geom_bar(stat = "identity", fill = "tomato") +
  coord_flip() +
  labs(title = "Top 10 Countries by Revenue", x = "Country", y = "Revenue")

```

```{r}
# Customer purchase distribution

customer_sales <- df_clean %>%
  group_by(CustomerID) %>%
  summarise(TotalSpent = sum(TotalAmount))

ggplot(customer_sales, aes(x = TotalSpent)) +
  geom_histogram(bins = 30, fill = "purple", color = "white") +
  labs(title = "Distribution of Customer Spending", x = "Total Spent", y = "Count")

```

### Modeling and Results

-   Explain your data preprocessing and cleaning steps.

-   Present your key findings in a clear and concise manner.

-   Use visuals to support your claims.

-   **Tell a story about what the data reveals.**

```{r}

```

### Conclusion

-   Summarize your key findings.

-   Discuss the implications of your results.

## References

https://ijstm.inarah.co.id/index.php/ijstm/article/view/856

https://www.researchgate.net/publication/358285794_Analysis_of_RFM_Customer_Segmentation_Using_Clustering_Algorithms

https://www.cs.uoi.gr/\~arly/full/conferences/C53.pdf cs.uoi.gr

https://ijstm.inarah.co.id/index.php/ijstm/article/view/1024

https://www.researchgate.net/publication/372365772_DIGITAL_MATURITY_ACTION_FIELDS_FOR_SMEs_IN_DEVELOPING_ECONOMIES

https://www.mdpi.com/1999-4893/16/9/396

https://www.researchgate.net/publication/261023207_Decision_tree_based_demand_forecasts_for_improving_inventory_performance

https://www.scitepress.org/Papers/2019/79175/79175.pdf

https://www.sciencedirect.com/science/article/abs/pii/S0957417404000132

https://www.ijarsct.co.in/Paper19084.pdf

https://ijstm.inarah.co.id/index.php/ijstm/article/view/1024

https://www.researchgate.net/publication/379443160_Used_Car_Customer_Segmentation_Using_K-Means_Clustering_Model_With_SPSS_Program_Case_Study_CarolineId

https://www.sciencedirect.com/science/article/abs/pii/S036083522300089X

https://journal-iam.com/index.php/technovasia/article/view/11

https://www.researchgate.net/publication/381040426_Implementation_of_K-Means_Clustering_for_Inventory_Projection
